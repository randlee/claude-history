# github.com/randlee/claude-history/cmd
cmd/export_testhelpers_test.go:12:2: no required module provides package golang.org/x/net/html; to add it:
	go get golang.org/x/net/html
FAIL	github.com/randlee/claude-history/cmd [setup failed]
?   	github.com/randlee/claude-history	[no test files]
=== RUN   TestScanner_Scan
--- PASS: TestScanner_Scan (0.00s)
=== RUN   TestScanner_SkipMalformed
--- PASS: TestScanner_SkipMalformed (0.00s)
=== RUN   TestScanInto
--- PASS: TestScanInto (0.00s)
=== RUN   TestReadAll
--- PASS: TestReadAll (0.00s)
=== RUN   TestCountLines
--- PASS: TestCountLines (0.00s)
PASS
ok  	github.com/randlee/claude-history/internal/jsonl	0.247s
=== RUN   TestFormatToolCall
=== RUN   TestFormatToolCall/Bash_with_command
=== RUN   TestFormatToolCall/Read_with_file_path
=== RUN   TestFormatToolCall/Write_with_file_path
=== RUN   TestFormatToolCall/Edit_with_file_path
=== RUN   TestFormatToolCall/Grep_with_pattern
=== RUN   TestFormatToolCall/Glob_with_pattern
=== RUN   TestFormatToolCall/Task_with_description
=== RUN   TestFormatToolCall/Task_with_prompt_(fallback)
=== RUN   TestFormatToolCall/Unknown_tool_with_JSON_fallback
=== RUN   TestFormatToolCall/Tool_with_nil_input
=== RUN   TestFormatToolCall/Tool_with_empty_input
=== RUN   TestFormatToolCall/Tool_with_missing_expected_key
--- PASS: TestFormatToolCall (0.00s)
    --- PASS: TestFormatToolCall/Bash_with_command (0.00s)
    --- PASS: TestFormatToolCall/Read_with_file_path (0.00s)
    --- PASS: TestFormatToolCall/Write_with_file_path (0.00s)
    --- PASS: TestFormatToolCall/Edit_with_file_path (0.00s)
    --- PASS: TestFormatToolCall/Grep_with_pattern (0.00s)
    --- PASS: TestFormatToolCall/Glob_with_pattern (0.00s)
    --- PASS: TestFormatToolCall/Task_with_description (0.00s)
    --- PASS: TestFormatToolCall/Task_with_prompt_(fallback) (0.00s)
    --- PASS: TestFormatToolCall/Unknown_tool_with_JSON_fallback (0.00s)
    --- PASS: TestFormatToolCall/Tool_with_nil_input (0.00s)
    --- PASS: TestFormatToolCall/Tool_with_empty_input (0.00s)
    --- PASS: TestFormatToolCall/Tool_with_missing_expected_key (0.00s)
=== RUN   TestFormatToolCallTruncation
--- PASS: TestFormatToolCallTruncation (0.00s)
=== RUN   TestFormatToolCallTruncationEdgeCases
=== RUN   TestFormatToolCallTruncationEdgeCases/Exactly_80_chars_-_no_truncation
=== RUN   TestFormatToolCallTruncationEdgeCases/79_chars_-_no_truncation
=== RUN   TestFormatToolCallTruncationEdgeCases/81_chars_-_truncation
--- PASS: TestFormatToolCallTruncationEdgeCases (0.00s)
    --- PASS: TestFormatToolCallTruncationEdgeCases/Exactly_80_chars_-_no_truncation (0.00s)
    --- PASS: TestFormatToolCallTruncationEdgeCases/79_chars_-_no_truncation (0.00s)
    --- PASS: TestFormatToolCallTruncationEdgeCases/81_chars_-_truncation (0.00s)
=== RUN   TestFormatToolCalls
=== RUN   TestFormatToolCalls/Empty_tools
=== RUN   TestFormatToolCalls/Nil_tools
=== RUN   TestFormatToolCalls/Single_tool
=== RUN   TestFormatToolCalls/Multiple_tools
--- PASS: TestFormatToolCalls (0.00s)
    --- PASS: TestFormatToolCalls/Empty_tools (0.00s)
    --- PASS: TestFormatToolCalls/Nil_tools (0.00s)
    --- PASS: TestFormatToolCalls/Single_tool (0.00s)
    --- PASS: TestFormatToolCalls/Multiple_tools (0.00s)
=== RUN   TestFormatToolSummary
=== RUN   TestFormatToolSummary/Empty_tools
=== RUN   TestFormatToolSummary/Nil_tools
=== RUN   TestFormatToolSummary/Single_tool_-_shows_full_format
=== RUN   TestFormatToolSummary/Two_tools_-_shows_names_only
=== RUN   TestFormatToolSummary/Multiple_tools_-_shows_names_only
--- PASS: TestFormatToolSummary (0.00s)
    --- PASS: TestFormatToolSummary/Empty_tools (0.00s)
    --- PASS: TestFormatToolSummary/Nil_tools (0.00s)
    --- PASS: TestFormatToolSummary/Single_tool_-_shows_full_format (0.00s)
    --- PASS: TestFormatToolSummary/Two_tools_-_shows_names_only (0.00s)
    --- PASS: TestFormatToolSummary/Multiple_tools_-_shows_names_only (0.00s)
=== RUN   TestExtractToolDisplayValue
=== RUN   TestExtractToolDisplayValue/Bash_extracts_command
=== RUN   TestExtractToolDisplayValue/Bash_with_missing_command_key
=== RUN   TestExtractToolDisplayValue/Bash_with_wrong_type_for_command
=== RUN   TestExtractToolDisplayValue/Read_extracts_file_path
=== RUN   TestExtractToolDisplayValue/Read_with_missing_file_path_key
=== RUN   TestExtractToolDisplayValue/Read_with_wrong_type_for_file_path
=== RUN   TestExtractToolDisplayValue/Write_extracts_file_path
=== RUN   TestExtractToolDisplayValue/Write_with_missing_file_path_key
=== RUN   TestExtractToolDisplayValue/Edit_extracts_file_path
=== RUN   TestExtractToolDisplayValue/Edit_with_missing_file_path_key
=== RUN   TestExtractToolDisplayValue/Grep_extracts_pattern
=== RUN   TestExtractToolDisplayValue/Grep_with_missing_pattern_key
=== RUN   TestExtractToolDisplayValue/Glob_extracts_pattern
=== RUN   TestExtractToolDisplayValue/Glob_with_missing_pattern_key
=== RUN   TestExtractToolDisplayValue/Task_prefers_description_over_prompt
=== RUN   TestExtractToolDisplayValue/Task_falls_back_to_prompt
=== RUN   TestExtractToolDisplayValue/Task_with_neither_description_nor_prompt
=== RUN   TestExtractToolDisplayValue/WebFetch_falls_back_to_JSON
=== RUN   TestExtractToolDisplayValue/WebSearch_falls_back_to_JSON
=== RUN   TestExtractToolDisplayValue/NotebookEdit_falls_back_to_JSON
=== RUN   TestExtractToolDisplayValue/AskUserQuestion_falls_back_to_JSON
=== RUN   TestExtractToolDisplayValue/Nil_input_returns_empty
=== RUN   TestExtractToolDisplayValue/Empty_input_returns_empty
--- PASS: TestExtractToolDisplayValue (0.00s)
    --- PASS: TestExtractToolDisplayValue/Bash_extracts_command (0.00s)
    --- PASS: TestExtractToolDisplayValue/Bash_with_missing_command_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Bash_with_wrong_type_for_command (0.00s)
    --- PASS: TestExtractToolDisplayValue/Read_extracts_file_path (0.00s)
    --- PASS: TestExtractToolDisplayValue/Read_with_missing_file_path_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Read_with_wrong_type_for_file_path (0.00s)
    --- PASS: TestExtractToolDisplayValue/Write_extracts_file_path (0.00s)
    --- PASS: TestExtractToolDisplayValue/Write_with_missing_file_path_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Edit_extracts_file_path (0.00s)
    --- PASS: TestExtractToolDisplayValue/Edit_with_missing_file_path_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Grep_extracts_pattern (0.00s)
    --- PASS: TestExtractToolDisplayValue/Grep_with_missing_pattern_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Glob_extracts_pattern (0.00s)
    --- PASS: TestExtractToolDisplayValue/Glob_with_missing_pattern_key (0.00s)
    --- PASS: TestExtractToolDisplayValue/Task_prefers_description_over_prompt (0.00s)
    --- PASS: TestExtractToolDisplayValue/Task_falls_back_to_prompt (0.00s)
    --- PASS: TestExtractToolDisplayValue/Task_with_neither_description_nor_prompt (0.00s)
    --- PASS: TestExtractToolDisplayValue/WebFetch_falls_back_to_JSON (0.00s)
    --- PASS: TestExtractToolDisplayValue/WebSearch_falls_back_to_JSON (0.00s)
    --- PASS: TestExtractToolDisplayValue/NotebookEdit_falls_back_to_JSON (0.00s)
    --- PASS: TestExtractToolDisplayValue/AskUserQuestion_falls_back_to_JSON (0.00s)
    --- PASS: TestExtractToolDisplayValue/Nil_input_returns_empty (0.00s)
    --- PASS: TestExtractToolDisplayValue/Empty_input_returns_empty (0.00s)
=== RUN   TestSerializeInput
=== RUN   TestSerializeInput/Empty_map_returns_empty_string
=== RUN   TestSerializeInput/Simple_map_with_string
=== RUN   TestSerializeInput/Simple_map_with_number
=== RUN   TestSerializeInput/Simple_map_with_boolean
=== RUN   TestSerializeInput/Multiple_keys
--- PASS: TestSerializeInput (0.00s)
    --- PASS: TestSerializeInput/Empty_map_returns_empty_string (0.00s)
    --- PASS: TestSerializeInput/Simple_map_with_string (0.00s)
    --- PASS: TestSerializeInput/Simple_map_with_number (0.00s)
    --- PASS: TestSerializeInput/Simple_map_with_boolean (0.00s)
    --- PASS: TestSerializeInput/Multiple_keys (0.00s)
=== RUN   TestSerializeInputComplex
=== RUN   TestSerializeInputComplex/Nested_map
=== RUN   TestSerializeInputComplex/Array_in_map
=== RUN   TestSerializeInputComplex/Deeply_nested_map
=== RUN   TestSerializeInputComplex/Mixed_types_in_map
=== RUN   TestSerializeInputComplex/Unmarshalable_type_returns_empty
--- PASS: TestSerializeInputComplex (0.00s)
    --- PASS: TestSerializeInputComplex/Nested_map (0.00s)
    --- PASS: TestSerializeInputComplex/Array_in_map (0.00s)
    --- PASS: TestSerializeInputComplex/Deeply_nested_map (0.00s)
    --- PASS: TestSerializeInputComplex/Mixed_types_in_map (0.00s)
    --- PASS: TestSerializeInputComplex/Unmarshalable_type_returns_empty (0.00s)
=== RUN   TestParseFormat
=== RUN   TestParseFormat/json
=== RUN   TestParseFormat/JSON
=== RUN   TestParseFormat/list
=== RUN   TestParseFormat/summary
=== RUN   TestParseFormat/ascii
=== RUN   TestParseFormat/dot
=== RUN   TestParseFormat/path
=== RUN   TestParseFormat/unknown
=== RUN   TestParseFormat/#00
--- PASS: TestParseFormat (0.00s)
    --- PASS: TestParseFormat/json (0.00s)
    --- PASS: TestParseFormat/JSON (0.00s)
    --- PASS: TestParseFormat/list (0.00s)
    --- PASS: TestParseFormat/summary (0.00s)
    --- PASS: TestParseFormat/ascii (0.00s)
    --- PASS: TestParseFormat/dot (0.00s)
    --- PASS: TestParseFormat/path (0.00s)
    --- PASS: TestParseFormat/unknown (0.00s)
    --- PASS: TestParseFormat/#00 (0.00s)
=== RUN   TestWriteJSON
--- PASS: TestWriteJSON (0.00s)
=== RUN   TestWriteList
--- PASS: TestWriteList (0.00s)
=== RUN   TestWriteSessions
=== RUN   TestWriteSessions/list_format
=== RUN   TestWriteSessions/json_format
--- PASS: TestWriteSessions (0.00s)
    --- PASS: TestWriteSessions/list_format (0.00s)
    --- PASS: TestWriteSessions/json_format (0.00s)
=== RUN   TestWritePath
--- PASS: TestWritePath (0.00s)
PASS
ok  	github.com/randlee/claude-history/internal/output	0.417s
=== RUN   TestParseAgentType
=== RUN   TestParseAgentType/a12eb64
=== RUN   TestParseAgentType/aprompt_suggestion-abc123
=== RUN   TestParseAgentType/aexplore-def456
=== RUN   TestParseAgentType/random
--- PASS: TestParseAgentType (0.00s)
    --- PASS: TestParseAgentType/a12eb64 (0.00s)
    --- PASS: TestParseAgentType/aprompt_suggestion-abc123 (0.00s)
    --- PASS: TestParseAgentType/aexplore-def456 (0.00s)
    --- PASS: TestParseAgentType/random (0.00s)
=== RUN   TestDiscoverAgents
--- PASS: TestDiscoverAgents (0.00s)
=== RUN   TestFindAgentSpawns
--- PASS: TestFindAgentSpawns (0.00s)
=== RUN   TestBuildTree
--- PASS: TestBuildTree (0.00s)
=== RUN   TestCountTotalEntries
--- PASS: TestCountTotalEntries (0.00s)
=== RUN   TestBuildNestedTree_SingleLevel
--- PASS: TestBuildNestedTree_SingleLevel (0.00s)
=== RUN   TestBuildNestedTree_TwoLevelsDeep
--- PASS: TestBuildNestedTree_TwoLevelsDeep (0.00s)
=== RUN   TestBuildNestedTree_ThreeLevelsDeep
--- PASS: TestBuildNestedTree_ThreeLevelsDeep (0.00s)
=== RUN   TestBuildNestedTree_MultipleChildrenSameLevel
--- PASS: TestBuildNestedTree_MultipleChildrenSameLevel (0.00s)
=== RUN   TestBuildNestedTree_OrphanedAgent
--- PASS: TestBuildNestedTree_OrphanedAgent (0.00s)
=== RUN   TestBuildNestedTree_EmptySession
--- PASS: TestBuildNestedTree_EmptySession (0.00s)
=== RUN   TestBuildNestedTree_SessionWithNoSubagents
--- PASS: TestBuildNestedTree_SessionWithNoSubagents (0.00s)
=== RUN   TestFindParentAgent
=== RUN   TestFindParentAgent/find_by_agent_ID
=== RUN   TestFindParentAgent/find_by_UUID
=== RUN   TestFindParentAgent/parent_not_found
=== RUN   TestFindParentAgent/empty_UUID_returns_nil
--- PASS: TestFindParentAgent (0.00s)
    --- PASS: TestFindParentAgent/find_by_agent_ID (0.00s)
    --- PASS: TestFindParentAgent/find_by_UUID (0.00s)
    --- PASS: TestFindParentAgent/parent_not_found (0.00s)
    --- PASS: TestFindParentAgent/empty_UUID_returns_nil (0.00s)
=== RUN   TestBuildNestedTree_CircularReference
--- PASS: TestBuildNestedTree_CircularReference (0.00s)
=== RUN   TestBuildNestedTree_SelfReferencingAgent
--- PASS: TestBuildNestedTree_SelfReferencingAgent (0.00s)
=== RUN   TestBuildNestedTree_InvalidParentUUID
--- PASS: TestBuildNestedTree_InvalidParentUUID (0.00s)
=== RUN   TestBuildNestedTree_MissingSubagentsDirectory
--- PASS: TestBuildNestedTree_MissingSubagentsDirectory (0.00s)
=== RUN   TestMatchesFilePattern
=== RUN   TestMatchesFilePattern/exact_path_match
=== RUN   TestMatchesFilePattern/single_wildcard_matches_go_files
=== RUN   TestMatchesFilePattern/single_wildcard_no_match
=== RUN   TestMatchesFilePattern/single_wildcard_matches_in_path
=== RUN   TestMatchesFilePattern/double_wildcard_matches_nested
=== RUN   TestMatchesFilePattern/double_wildcard_matches_shallow
=== RUN   TestMatchesFilePattern/double_wildcard_no_match
=== RUN   TestMatchesFilePattern/double_wildcard_with_prefix
=== RUN   TestMatchesFilePattern/empty_pattern_returns_false
=== RUN   TestMatchesFilePattern/question_mark_wildcard
=== RUN   TestMatchesFilePattern/invalid_pattern_returns_false
--- PASS: TestMatchesFilePattern (0.00s)
    --- PASS: TestMatchesFilePattern/exact_path_match (0.00s)
    --- PASS: TestMatchesFilePattern/single_wildcard_matches_go_files (0.00s)
    --- PASS: TestMatchesFilePattern/single_wildcard_no_match (0.00s)
    --- PASS: TestMatchesFilePattern/single_wildcard_matches_in_path (0.00s)
    --- PASS: TestMatchesFilePattern/double_wildcard_matches_nested (0.00s)
    --- PASS: TestMatchesFilePattern/double_wildcard_matches_shallow (0.00s)
    --- PASS: TestMatchesFilePattern/double_wildcard_no_match (0.00s)
    --- PASS: TestMatchesFilePattern/double_wildcard_with_prefix (0.00s)
    --- PASS: TestMatchesFilePattern/empty_pattern_returns_false (0.00s)
    --- PASS: TestMatchesFilePattern/question_mark_wildcard (0.00s)
    --- PASS: TestMatchesFilePattern/invalid_pattern_returns_false (0.00s)
=== RUN   TestFindAgents_ExactFilePath
--- PASS: TestFindAgents_ExactFilePath (0.00s)
=== RUN   TestFindAgents_GlobPattern
--- PASS: TestFindAgents_GlobPattern (0.00s)
=== RUN   TestFindAgents_DoubleStarGlob
--- PASS: TestFindAgents_DoubleStarGlob (0.00s)
=== RUN   TestFindAgents_TimeRange
--- PASS: TestFindAgents_TimeRange (0.00s)
=== RUN   TestFindAgents_ToolType
--- PASS: TestFindAgents_ToolType (0.00s)
=== RUN   TestFindAgents_ToolInputRegex
--- PASS: TestFindAgents_ToolInputRegex (0.00s)
=== RUN   TestFindAgents_CombinedFilters
--- PASS: TestFindAgents_CombinedFilters (0.00s)
=== RUN   TestFindAgents_NestedAgents
--- PASS: TestFindAgents_NestedAgents (0.00s)
=== RUN   TestFindAgents_NoMatchesReturnsEmptySlice
--- PASS: TestFindAgents_NoMatchesReturnsEmptySlice (0.00s)
=== RUN   TestFindAgents_InvalidProjectDirectory
--- PASS: TestFindAgents_InvalidProjectDirectory (0.00s)
=== RUN   TestFindAgents_InvalidRegex
--- PASS: TestFindAgents_InvalidRegex (0.00s)
=== RUN   TestFindAgents_SessionScope
--- PASS: TestFindAgents_SessionScope (0.00s)
=== RUN   TestFindAgents_MultipleToolTypes
--- PASS: TestFindAgents_MultipleToolTypes (0.00s)
=== RUN   TestFindAgents_CaseInsensitiveToolMatch
--- PASS: TestFindAgents_CaseInsensitiveToolMatch (0.00s)
=== RUN   TestIsFileOperationTool
=== RUN   TestIsFileOperationTool/Read
=== RUN   TestIsFileOperationTool/read
=== RUN   TestIsFileOperationTool/Write
=== RUN   TestIsFileOperationTool/Edit
=== RUN   TestIsFileOperationTool/Glob
=== RUN   TestIsFileOperationTool/Grep
=== RUN   TestIsFileOperationTool/NotebookEdit
=== RUN   TestIsFileOperationTool/Bash
=== RUN   TestIsFileOperationTool/WebSearch
=== RUN   TestIsFileOperationTool/#00
--- PASS: TestIsFileOperationTool (0.00s)
    --- PASS: TestIsFileOperationTool/Read (0.00s)
    --- PASS: TestIsFileOperationTool/read (0.00s)
    --- PASS: TestIsFileOperationTool/Write (0.00s)
    --- PASS: TestIsFileOperationTool/Edit (0.00s)
    --- PASS: TestIsFileOperationTool/Glob (0.00s)
    --- PASS: TestIsFileOperationTool/Grep (0.00s)
    --- PASS: TestIsFileOperationTool/NotebookEdit (0.00s)
    --- PASS: TestIsFileOperationTool/Bash (0.00s)
    --- PASS: TestIsFileOperationTool/WebSearch (0.00s)
    --- PASS: TestIsFileOperationTool/#00 (0.00s)
=== RUN   TestExtractFilePathFromTool
=== RUN   TestExtractFilePathFromTool/file_path_field
=== RUN   TestExtractFilePathFromTool/path_field
=== RUN   TestExtractFilePathFromTool/no_path_field
=== RUN   TestExtractFilePathFromTool/nil_input
=== RUN   TestExtractFilePathFromTool/non-string_path
--- PASS: TestExtractFilePathFromTool (0.00s)
    --- PASS: TestExtractFilePathFromTool/file_path_field (0.00s)
    --- PASS: TestExtractFilePathFromTool/path_field (0.00s)
    --- PASS: TestExtractFilePathFromTool/no_path_field (0.00s)
    --- PASS: TestExtractFilePathFromTool/nil_input (0.00s)
    --- PASS: TestExtractFilePathFromTool/non-string_path (0.00s)
=== RUN   TestPathError
--- PASS: TestPathError (0.00s)
=== RUN   TestPatternError
--- PASS: TestPatternError (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/agent	0.330s
=== RUN   TestEncodePath
=== RUN   TestEncodePath/Unix_simple_path
=== RUN   TestEncodePath/Unix_path_with_hidden_folder
=== RUN   TestEncodePath/macOS_path
=== RUN   TestEncodePath/Windows_simple_path
=== RUN   TestEncodePath/Windows_path_with_hidden_folder
=== RUN   TestEncodePath/Path_with_dots_in_filename
--- PASS: TestEncodePath (0.00s)
    --- PASS: TestEncodePath/Unix_simple_path (0.00s)
    --- PASS: TestEncodePath/Unix_path_with_hidden_folder (0.00s)
    --- PASS: TestEncodePath/macOS_path (0.00s)
    --- PASS: TestEncodePath/Windows_simple_path (0.00s)
    --- PASS: TestEncodePath/Windows_path_with_hidden_folder (0.00s)
    --- PASS: TestEncodePath/Path_with_dots_in_filename (0.00s)
=== RUN   TestDecodePath
=== RUN   TestDecodePath/Unix_encoded_path
=== RUN   TestDecodePath/macOS_encoded_path
=== RUN   TestDecodePath/Windows_encoded_path
--- PASS: TestDecodePath (0.00s)
    --- PASS: TestDecodePath/Unix_encoded_path (0.00s)
    --- PASS: TestDecodePath/macOS_encoded_path (0.00s)
    --- PASS: TestDecodePath/Windows_encoded_path (0.00s)
=== RUN   TestIsEncodedPath
=== RUN   TestIsEncodedPath/Unix_encoded_path
=== RUN   TestIsEncodedPath/Windows_encoded_path
=== RUN   TestIsEncodedPath/Unix_absolute_path
=== RUN   TestIsEncodedPath/Windows_absolute_path
=== RUN   TestIsEncodedPath/Empty_string
=== RUN   TestIsEncodedPath/UUID
--- PASS: TestIsEncodedPath (0.00s)
    --- PASS: TestIsEncodedPath/Unix_encoded_path (0.00s)
    --- PASS: TestIsEncodedPath/Windows_encoded_path (0.00s)
    --- PASS: TestIsEncodedPath/Unix_absolute_path (0.00s)
    --- PASS: TestIsEncodedPath/Windows_absolute_path (0.00s)
    --- PASS: TestIsEncodedPath/Empty_string (0.00s)
    --- PASS: TestIsEncodedPath/UUID (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/encoding	0.554s
=== RUN   TestGenerateTempPath
=== RUN   TestGenerateTempPath/standard_UUID_session_ID
=== RUN   TestGenerateTempPath/short_session_ID
=== RUN   TestGenerateTempPath/exactly_8_char_session_ID
--- PASS: TestGenerateTempPath (0.00s)
    --- PASS: TestGenerateTempPath/standard_UUID_session_ID (0.00s)
    --- PASS: TestGenerateTempPath/short_session_ID (0.00s)
    --- PASS: TestGenerateTempPath/exactly_8_char_session_ID (0.00s)
=== RUN   TestGenerateTempPath_CrossPlatform
--- PASS: TestGenerateTempPath_CrossPlatform (0.00s)
=== RUN   TestCopyFile
=== RUN   TestCopyFile/copy_to_existing_directory
=== RUN   TestCopyFile/copy_to_nested_directory_(creates_parents)
=== RUN   TestCopyFile/source_does_not_exist
--- PASS: TestCopyFile (0.00s)
    --- PASS: TestCopyFile/copy_to_existing_directory (0.00s)
    --- PASS: TestCopyFile/copy_to_nested_directory_(creates_parents) (0.00s)
    --- PASS: TestCopyFile/source_does_not_exist (0.00s)
=== RUN   TestCopyFile_LargeFile
--- PASS: TestCopyFile_LargeFile (0.00s)
=== RUN   TestCopyFile_PermissionError
--- PASS: TestCopyFile_PermissionError (0.00s)
=== RUN   TestExportSession_Success
--- PASS: TestExportSession_Success (0.00s)
=== RUN   TestExportSession_WithTempDir
--- PASS: TestExportSession_WithTempDir (0.00s)
=== RUN   TestExportSession_NestedAgents
--- PASS: TestExportSession_NestedAgents (0.00s)
=== RUN   TestExportSession_SessionNotFound
--- PASS: TestExportSession_SessionNotFound (0.00s)
=== RUN   TestExportSession_NoAgents
--- PASS: TestExportSession_NoAgents (0.00s)
=== RUN   TestExportSession_OutputDirAlreadyExists
--- PASS: TestExportSession_OutputDirAlreadyExists (0.00s)
=== RUN   TestCopyAgentFiles_EmptyDirectory
--- PASS: TestCopyAgentFiles_EmptyDirectory (0.00s)
=== RUN   TestCopyAgentFiles_EmptySubagentsDirectory
--- PASS: TestCopyAgentFiles_EmptySubagentsDirectory (0.00s)
=== RUN   TestCleanupExport
--- PASS: TestCleanupExport (0.00s)
=== RUN   TestCleanupExport_SafetyCheck
--- PASS: TestCleanupExport_SafetyCheck (0.00s)
=== RUN   TestCleanupExport_NonexistentDirectory
--- PASS: TestCleanupExport_NonexistentDirectory (0.00s)
=== RUN   TestExportResult_Structure
--- PASS: TestExportResult_Structure (0.00s)
=== RUN   TestExportOptions_Defaults
--- PASS: TestExportOptions_Defaults (0.00s)
=== RUN   TestCopyAgentFilesRecursive_FilesOnly
--- PASS: TestCopyAgentFilesRecursive_FilesOnly (0.00s)
=== RUN   TestExportSession_JSONLContent
--- PASS: TestExportSession_JSONLContent (0.00s)
=== RUN   TestExportSession_DirectoryStructure
--- PASS: TestExportSession_DirectoryStructure (0.00s)
=== RUN   TestGetExportTreeInfo
--- PASS: TestGetExportTreeInfo (0.00s)
=== RUN   TestGetExportTreeInfo_NoAgents
--- PASS: TestGetExportTreeInfo_NoAgents (0.00s)
=== RUN   TestCopyAgentFilesRecursive_WithNestedDirectories
--- PASS: TestCopyAgentFilesRecursive_WithNestedDirectories (0.00s)
=== RUN   TestCopyAgentFilesRecursive_ReadDirError
--- PASS: TestCopyAgentFilesRecursive_ReadDirError (0.00s)
=== RUN   TestExportSession_InvalidProjectPath
--- PASS: TestExportSession_InvalidProjectPath (0.00s)
=== RUN   TestCleanupExport_PathTraversal
--- PASS: TestCleanupExport_PathTraversal (0.00s)
=== RUN   TestExportSession_ErrorCopyingAgents
--- PASS: TestExportSession_ErrorCopyingAgents (0.00s)
=== RUN   TestRenderConversation_BasicStructure
--- PASS: TestRenderConversation_BasicStructure (0.00s)
=== RUN   TestRenderConversation_UserMessage
--- PASS: TestRenderConversation_UserMessage (0.00s)
=== RUN   TestRenderConversation_AssistantMessage
--- PASS: TestRenderConversation_AssistantMessage (0.00s)
=== RUN   TestRenderConversation_SystemMessage
--- PASS: TestRenderConversation_SystemMessage (0.00s)
=== RUN   TestRenderConversation_ToolCall
--- PASS: TestRenderConversation_ToolCall (0.00s)
=== RUN   TestRenderConversation_ToolCallError
--- PASS: TestRenderConversation_ToolCallError (0.00s)
=== RUN   TestRenderConversation_SubagentPlaceholder
--- PASS: TestRenderConversation_SubagentPlaceholder (0.00s)
=== RUN   TestRenderAgentFragment_BasicContent
--- PASS: TestRenderAgentFragment_BasicContent (0.00s)
=== RUN   TestEscapeHTML_XSSPrevention
=== RUN   TestEscapeHTML_XSSPrevention/script_tag
=== RUN   TestEscapeHTML_XSSPrevention/ampersand
=== RUN   TestEscapeHTML_XSSPrevention/double_quotes
=== RUN   TestEscapeHTML_XSSPrevention/less_than_greater_than
=== RUN   TestEscapeHTML_XSSPrevention/html_attributes
=== RUN   TestEscapeHTML_XSSPrevention/empty_string
=== RUN   TestEscapeHTML_XSSPrevention/plain_text
--- PASS: TestEscapeHTML_XSSPrevention (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/script_tag (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/ampersand (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/double_quotes (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/less_than_greater_than (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/html_attributes (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/empty_string (0.00s)
    --- PASS: TestEscapeHTML_XSSPrevention/plain_text (0.00s)
=== RUN   TestRenderConversation_XSSInContent
--- PASS: TestRenderConversation_XSSInContent (0.00s)
=== RUN   TestRenderConversation_XSSInToolInput
--- PASS: TestRenderConversation_XSSInToolInput (0.00s)
=== RUN   TestRenderConversation_EmptySession
--- PASS: TestRenderConversation_EmptySession (0.00s)
=== RUN   TestRenderConversation_NullContent
--- PASS: TestRenderConversation_NullContent (0.00s)
=== RUN   TestRenderConversation_SpecialCharacters
--- PASS: TestRenderConversation_SpecialCharacters (0.00s)
=== RUN   TestRenderConversation_VeryLongContent
--- PASS: TestRenderConversation_VeryLongContent (0.00s)
=== RUN   TestRenderConversation_MultipleToolCalls
--- PASS: TestRenderConversation_MultipleToolCalls (0.00s)
=== RUN   TestRenderEntry_AllEntryTypes
=== RUN   TestRenderEntry_AllEntryTypes/user
=== RUN   TestRenderEntry_AllEntryTypes/assistant
=== RUN   TestRenderEntry_AllEntryTypes/system
=== RUN   TestRenderEntry_AllEntryTypes/queue-operation
=== RUN   TestRenderEntry_AllEntryTypes/summary
--- PASS: TestRenderEntry_AllEntryTypes (0.00s)
    --- PASS: TestRenderEntry_AllEntryTypes/user (0.00s)
    --- PASS: TestRenderEntry_AllEntryTypes/assistant (0.00s)
    --- PASS: TestRenderEntry_AllEntryTypes/system (0.00s)
    --- PASS: TestRenderEntry_AllEntryTypes/queue-operation (0.00s)
    --- PASS: TestRenderEntry_AllEntryTypes/summary (0.00s)
=== RUN   TestGetEntryClass_UnknownType
--- PASS: TestGetEntryClass_UnknownType (0.00s)
=== RUN   TestFormatTimestamp_ValidTimestamp
--- PASS: TestFormatTimestamp_ValidTimestamp (0.00s)
=== RUN   TestFormatTimestamp_InvalidTimestamp
--- PASS: TestFormatTimestamp_InvalidTimestamp (0.00s)
=== RUN   TestFormatToolSummary_AllToolTypes
=== RUN   TestFormatToolSummary_AllToolTypes/Bash
=== RUN   TestFormatToolSummary_AllToolTypes/Read
=== RUN   TestFormatToolSummary_AllToolTypes/Write
=== RUN   TestFormatToolSummary_AllToolTypes/Edit
=== RUN   TestFormatToolSummary_AllToolTypes/Grep
=== RUN   TestFormatToolSummary_AllToolTypes/Glob
=== RUN   TestFormatToolSummary_AllToolTypes/Task
=== RUN   TestFormatToolSummary_AllToolTypes/Task_with_prompt
=== RUN   TestFormatToolSummary_AllToolTypes/WebFetch
=== RUN   TestFormatToolSummary_AllToolTypes/WebSearch
=== RUN   TestFormatToolSummary_AllToolTypes/Unknown_tool
=== RUN   TestFormatToolSummary_AllToolTypes/No_input
--- PASS: TestFormatToolSummary_AllToolTypes (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Bash (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Read (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Write (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Edit (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Grep (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Glob (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Task (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Task_with_prompt (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/WebFetch (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/WebSearch (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/Unknown_tool (0.00s)
    --- PASS: TestFormatToolSummary_AllToolTypes/No_input (0.00s)
=== RUN   TestFormatToolSummary_LongInput
--- PASS: TestFormatToolSummary_LongInput (0.00s)
=== RUN   TestFormatToolInput_NilInput
--- PASS: TestFormatToolInput_NilInput (0.00s)
=== RUN   TestFormatToolInput_EmptyInput
--- PASS: TestFormatToolInput_EmptyInput (0.00s)
=== RUN   TestFormatToolInput_ComplexInput
--- PASS: TestFormatToolInput_ComplexInput (0.00s)
=== RUN   TestBuildAgentMap_EmptyAgents
--- PASS: TestBuildAgentMap_EmptyAgents (0.00s)
=== RUN   TestBuildAgentMap_SingleAgent
--- PASS: TestBuildAgentMap_SingleAgent (0.00s)
=== RUN   TestBuildAgentMap_NestedAgents
--- PASS: TestBuildAgentMap_NestedAgents (0.00s)
=== RUN   TestBuildToolResultsMap_Empty
--- PASS: TestBuildToolResultsMap_Empty (0.00s)
=== RUN   TestBuildToolResultsMap_WithResults
--- PASS: TestBuildToolResultsMap_WithResults (0.00s)
=== RUN   TestBuildToolResultsMap_IgnoresNonUserEntries
--- PASS: TestBuildToolResultsMap_IgnoresNonUserEntries (0.00s)
=== RUN   TestRenderToolCall_NoResult
--- PASS: TestRenderToolCall_NoResult (0.00s)
=== RUN   TestRenderConversation_TimestampInHeader
--- PASS: TestRenderConversation_TimestampInHeader (0.00s)
=== RUN   TestRenderConversation_TypeInHeader
--- PASS: TestRenderConversation_TypeInHeader (0.00s)
=== RUN   TestRenderConversation_AgentIDInHeader
--- PASS: TestRenderConversation_AgentIDInHeader (0.00s)
=== RUN   TestRenderConversation_MalformedJSON
--- PASS: TestRenderConversation_MalformedJSON (0.00s)
=== RUN   TestRenderSubagentPlaceholder_ShortAgentID
--- PASS: TestRenderSubagentPlaceholder_ShortAgentID (0.00s)
=== RUN   TestRenderSubagentPlaceholder_LongAgentID
--- PASS: TestRenderSubagentPlaceholder_LongAgentID (0.00s)
=== RUN   TestRenderSubagentPlaceholder_ZeroEntries
--- PASS: TestRenderSubagentPlaceholder_ZeroEntries (0.00s)
=== RUN   TestRenderConversation_MultilineContent
--- PASS: TestRenderConversation_MultilineContent (0.00s)
=== RUN   TestRenderAgentFragment_WithToolCalls
--- PASS: TestRenderAgentFragment_WithToolCalls (0.00s)
=== RUN   TestRenderConversation_ToolCallWithoutMatchingResult
--- PASS: TestRenderConversation_ToolCallWithoutMatchingResult (0.00s)
=== RUN   TestManifest_JSONSerialization
--- PASS: TestManifest_JSONSerialization (0.00s)
=== RUN   TestWriteManifest
--- PASS: TestWriteManifest (0.00s)
=== RUN   TestReadManifest
--- PASS: TestReadManifest (0.00s)
=== RUN   TestReadManifest_NotFound
--- PASS: TestReadManifest_NotFound (0.00s)
=== RUN   TestWriteManifest_CreatesDirectory
--- PASS: TestWriteManifest_CreatesDirectory (0.00s)
=== RUN   TestAgentTreeNode_DeepNesting
--- PASS: TestAgentTreeNode_DeepNesting (0.00s)
=== RUN   TestSourceFile_Types
=== RUN   TestSourceFile_Types/session_type
=== RUN   TestSourceFile_Types/agent_type
--- PASS: TestSourceFile_Types (0.00s)
    --- PASS: TestSourceFile_Types/session_type (0.00s)
    --- PASS: TestSourceFile_Types/agent_type (0.00s)
=== RUN   TestManifest_EmptySession
--- PASS: TestManifest_EmptySession (0.00s)
=== RUN   TestManifest_NoAgentTree
--- PASS: TestManifest_NoAgentTree (0.00s)
=== RUN   TestAgentTreeNode_NoChildren
--- PASS: TestAgentTreeNode_NoChildren (0.00s)
=== RUN   TestConvertTreeNode
--- PASS: TestConvertTreeNode (0.00s)
=== RUN   TestExtractProjectPath
=== RUN   TestExtractProjectPath/-Users-test-myproject
=== RUN   TestExtractProjectPath/-home-user-code
=== RUN   TestExtractProjectPath/encoded-path
--- PASS: TestExtractProjectPath (0.00s)
    --- PASS: TestExtractProjectPath/-Users-test-myproject (0.00s)
    --- PASS: TestExtractProjectPath/-home-user-code (0.00s)
    --- PASS: TestExtractProjectPath/encoded-path (0.00s)
=== RUN   TestManifestVersion
--- PASS: TestManifestVersion (0.00s)
=== RUN   TestBuildSourceFilesList
--- PASS: TestBuildSourceFilesList (0.00s)
=== RUN   TestGenerateManifest_NonExistentSession
--- PASS: TestGenerateManifest_NonExistentSession (0.00s)
=== RUN   TestGenerateManifest_WithRealSession
--- PASS: TestGenerateManifest_WithRealSession (0.00s)
=== RUN   TestGetStyleCSS
--- PASS: TestGetStyleCSS (0.00s)
=== RUN   TestGetScriptJS
--- PASS: TestGetScriptJS (0.00s)
=== RUN   TestWriteStaticAssets
--- PASS: TestWriteStaticAssets (0.00s)
=== RUN   TestWriteStaticAssets_CreatesNestedDirectory
--- PASS: TestWriteStaticAssets_CreatesNestedDirectory (0.00s)
=== RUN   TestWriteStaticAssets_Idempotent
--- PASS: TestWriteStaticAssets_Idempotent (0.00s)
=== RUN   TestListTemplateFiles
--- PASS: TestListTemplateFiles (0.00s)
=== RUN   TestReadTemplateFile
=== RUN   TestReadTemplateFile/read_style.css
=== RUN   TestReadTemplateFile/read_script.js
=== RUN   TestReadTemplateFile/read_non-existent
--- PASS: TestReadTemplateFile (0.00s)
    --- PASS: TestReadTemplateFile/read_style.css (0.00s)
    --- PASS: TestReadTemplateFile/read_script.js (0.00s)
    --- PASS: TestReadTemplateFile/read_non-existent (0.00s)
=== RUN   TestGetTemplatesFS
--- PASS: TestGetTemplatesFS (0.00s)
=== RUN   TestCSSContent_HasResponsiveStyles
--- PASS: TestCSSContent_HasResponsiveStyles (0.00s)
=== RUN   TestCSSContent_HasDarkMode
--- PASS: TestCSSContent_HasDarkMode (0.00s)
=== RUN   TestCSSContent_HasPrintStyles
--- PASS: TestCSSContent_HasPrintStyles (0.00s)
=== RUN   TestJSContent_HasInitFunction
--- PASS: TestJSContent_HasInitFunction (0.00s)
=== RUN   TestJSContent_HasSearchFunctions
--- PASS: TestJSContent_HasSearchFunctions (0.00s)
=== RUN   TestJSContent_HasStatsFunctions
--- PASS: TestJSContent_HasStatsFunctions (0.00s)
=== RUN   TestWriteStaticAssets_ContentMatches
--- PASS: TestWriteStaticAssets_ContentMatches (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/export	0.707s
=== RUN   TestConversationEntry_GetTimestamp
--- PASS: TestConversationEntry_GetTimestamp (0.00s)
=== RUN   TestConversationEntry_TypeChecks
=== RUN   TestConversationEntry_TypeChecks/user
=== RUN   TestConversationEntry_TypeChecks/assistant
=== RUN   TestConversationEntry_TypeChecks/system
=== RUN   TestConversationEntry_TypeChecks/queue-operation
--- PASS: TestConversationEntry_TypeChecks (0.00s)
    --- PASS: TestConversationEntry_TypeChecks/user (0.00s)
    --- PASS: TestConversationEntry_TypeChecks/assistant (0.00s)
    --- PASS: TestConversationEntry_TypeChecks/system (0.00s)
    --- PASS: TestConversationEntry_TypeChecks/queue-operation (0.00s)
=== RUN   TestConversationEntry_ParseMessageContent
=== RUN   TestConversationEntry_ParseMessageContent/array_of_content
=== RUN   TestConversationEntry_ParseMessageContent/single_object
=== RUN   TestConversationEntry_ParseMessageContent/plain_string
--- PASS: TestConversationEntry_ParseMessageContent (0.00s)
    --- PASS: TestConversationEntry_ParseMessageContent/array_of_content (0.00s)
    --- PASS: TestConversationEntry_ParseMessageContent/single_object (0.00s)
    --- PASS: TestConversationEntry_ParseMessageContent/plain_string (0.00s)
=== RUN   TestConversationEntry_GetTextContent
--- PASS: TestConversationEntry_GetTextContent (0.00s)
=== RUN   TestSessionIndexEntry_ToSession
--- PASS: TestSessionIndexEntry_ToSession (0.00s)
=== RUN   TestExtractToolCalls_Bash
--- PASS: TestExtractToolCalls_Bash (0.00s)
=== RUN   TestExtractToolCalls_Read
--- PASS: TestExtractToolCalls_Read (0.00s)
=== RUN   TestExtractToolCalls_Write
--- PASS: TestExtractToolCalls_Write (0.00s)
=== RUN   TestExtractToolCalls_Edit
--- PASS: TestExtractToolCalls_Edit (0.00s)
=== RUN   TestExtractToolCalls_Task
--- PASS: TestExtractToolCalls_Task (0.00s)
=== RUN   TestExtractToolCalls_Glob
--- PASS: TestExtractToolCalls_Glob (0.00s)
=== RUN   TestExtractToolCalls_Grep
--- PASS: TestExtractToolCalls_Grep (0.00s)
=== RUN   TestExtractToolCalls_WebFetch
--- PASS: TestExtractToolCalls_WebFetch (0.00s)
=== RUN   TestExtractToolCalls_WebSearch
--- PASS: TestExtractToolCalls_WebSearch (0.00s)
=== RUN   TestExtractToolCalls_NotebookEdit
--- PASS: TestExtractToolCalls_NotebookEdit (0.00s)
=== RUN   TestExtractToolCalls_AskUserQuestion
--- PASS: TestExtractToolCalls_AskUserQuestion (0.00s)
=== RUN   TestExtractToolCalls_MultipleTools
--- PASS: TestExtractToolCalls_MultipleTools (0.00s)
=== RUN   TestExtractToolCalls_NonAssistantEntry
--- PASS: TestExtractToolCalls_NonAssistantEntry (0.00s)
=== RUN   TestExtractToolCalls_EmptyContent
--- PASS: TestExtractToolCalls_EmptyContent (0.00s)
=== RUN   TestExtractToolCalls_NoToolUse
--- PASS: TestExtractToolCalls_NoToolUse (0.00s)
=== RUN   TestExtractToolResults_SingleResult
--- PASS: TestExtractToolResults_SingleResult (0.00s)
=== RUN   TestExtractToolResults_ErrorResult
--- PASS: TestExtractToolResults_ErrorResult (0.00s)
=== RUN   TestExtractToolResults_MultipleResults
--- PASS: TestExtractToolResults_MultipleResults (0.00s)
=== RUN   TestExtractToolResults_NonUserEntry
--- PASS: TestExtractToolResults_NonUserEntry (0.00s)
=== RUN   TestExtractToolResults_ArrayContent
--- PASS: TestExtractToolResults_ArrayContent (0.00s)
=== RUN   TestHasToolCall_CaseInsensitive
=== RUN   TestHasToolCall_CaseInsensitive/Bash
=== RUN   TestHasToolCall_CaseInsensitive/bash
=== RUN   TestHasToolCall_CaseInsensitive/BASH
=== RUN   TestHasToolCall_CaseInsensitive/BaSh
=== RUN   TestHasToolCall_CaseInsensitive/Read
=== RUN   TestHasToolCall_CaseInsensitive/#00
--- PASS: TestHasToolCall_CaseInsensitive (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/Bash (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/bash (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/BASH (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/BaSh (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/Read (0.00s)
    --- PASS: TestHasToolCall_CaseInsensitive/#00 (0.00s)
=== RUN   TestHasToolCall_MultipleTools
--- PASS: TestHasToolCall_MultipleTools (0.00s)
=== RUN   TestHasToolCall_NonAssistantEntry
--- PASS: TestHasToolCall_NonAssistantEntry (0.00s)
=== RUN   TestMatchesToolInput_SimplePattern
=== RUN   TestMatchesToolInput_SimplePattern/git_status
=== RUN   TestMatchesToolInput_SimplePattern/git
=== RUN   TestMatchesToolInput_SimplePattern/status
=== RUN   TestMatchesToolInput_SimplePattern/git.*status
=== RUN   TestMatchesToolInput_SimplePattern/npm_install
=== RUN   TestMatchesToolInput_SimplePattern/GIT_STATUS
--- PASS: TestMatchesToolInput_SimplePattern (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/git_status (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/git (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/status (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/git.*status (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/npm_install (0.00s)
    --- PASS: TestMatchesToolInput_SimplePattern/GIT_STATUS (0.00s)
=== RUN   TestMatchesToolInput_CaseInsensitivePattern
--- PASS: TestMatchesToolInput_CaseInsensitivePattern (0.00s)
=== RUN   TestMatchesToolInput_FilePath
=== RUN   TestMatchesToolInput_FilePath/main.go
=== RUN   TestMatchesToolInput_FilePath//project/
=== RUN   TestMatchesToolInput_FilePath/\.go"
=== RUN   TestMatchesToolInput_FilePath/package.json
--- PASS: TestMatchesToolInput_FilePath (0.00s)
    --- PASS: TestMatchesToolInput_FilePath/main.go (0.00s)
    --- PASS: TestMatchesToolInput_FilePath//project/ (0.00s)
    --- PASS: TestMatchesToolInput_FilePath/\.go" (0.00s)
    --- PASS: TestMatchesToolInput_FilePath/package.json (0.00s)
=== RUN   TestMatchesToolInput_MultipleTools
--- PASS: TestMatchesToolInput_MultipleTools (0.00s)
=== RUN   TestMatchesToolInput_InvalidRegex
--- PASS: TestMatchesToolInput_InvalidRegex (0.00s)
=== RUN   TestMatchesToolInput_EmptyInput
--- PASS: TestMatchesToolInput_EmptyInput (0.00s)
=== RUN   TestMatchesToolInput_NoInput
--- PASS: TestMatchesToolInput_NoInput (0.00s)
=== RUN   TestMatchesToolInput_NonAssistantEntry
--- PASS: TestMatchesToolInput_NonAssistantEntry (0.00s)
=== RUN   TestExtractToolCalls_MalformedJSON
--- PASS: TestExtractToolCalls_MalformedJSON (0.00s)
=== RUN   TestExtractToolResults_MalformedJSON
--- PASS: TestExtractToolResults_MalformedJSON (0.00s)
=== RUN   TestExtractToolCalls_MissingFields
--- PASS: TestExtractToolCalls_MissingFields (0.00s)
=== RUN   TestExtractToolCalls_DirectContentArray
--- PASS: TestExtractToolCalls_DirectContentArray (0.00s)
=== RUN   TestExtractToolResults_DirectContentArray
--- PASS: TestExtractToolResults_DirectContentArray (0.00s)
=== RUN   TestExtractToolCalls_MalformedInput
--- PASS: TestExtractToolCalls_MalformedInput (0.00s)
=== RUN   TestExtractToolResults_EmptyContent
--- PASS: TestExtractToolResults_EmptyContent (0.00s)
=== RUN   TestExtractToolResults_ContentString
--- PASS: TestExtractToolResults_ContentString (0.00s)
=== RUN   TestExtractToolResults_ArrayContentEmptyBlocks
--- PASS: TestExtractToolResults_ArrayContentEmptyBlocks (0.00s)
=== RUN   TestExtractToolResults_MalformedContentJSON
--- PASS: TestExtractToolResults_MalformedContentJSON (0.00s)
=== RUN   TestExtractIsError_WithWrapper
--- PASS: TestExtractIsError_WithWrapper (0.00s)
=== RUN   TestExtractIsError_NoWrapper
--- PASS: TestExtractIsError_NoWrapper (0.00s)
=== RUN   TestExtractIsError_EmptyMessage
--- PASS: TestExtractIsError_EmptyMessage (0.00s)
=== RUN   TestExtractIsError_WrongToolUseID
--- PASS: TestExtractIsError_WrongToolUseID (0.00s)
=== RUN   TestExtractIsError_MalformedMessage
--- PASS: TestExtractIsError_MalformedMessage (0.00s)
=== RUN   TestMatchesToolInput_EmptyPattern
--- PASS: TestMatchesToolInput_EmptyPattern (0.00s)
=== RUN   TestExtractToolCalls_AllToolTypes
--- PASS: TestExtractToolCalls_AllToolTypes (0.00s)
=== RUN   TestExtractIsError_NonToolResultType
--- PASS: TestExtractIsError_NonToolResultType (0.00s)
=== RUN   TestExtractIsError_WrapperNoContent
--- PASS: TestExtractIsError_WrapperNoContent (0.00s)
=== RUN   TestExtractIsError_InvalidContentArray
--- PASS: TestExtractIsError_InvalidContentArray (0.00s)
=== RUN   TestExtractToolResults_MixedContentTypes
--- PASS: TestExtractToolResults_MixedContentTypes (0.00s)
=== RUN   TestExtractToolCalls_EmptyInputField
--- PASS: TestExtractToolCalls_EmptyInputField (0.00s)
=== RUN   TestExtractIsError_DirectArrayNotObject
--- PASS: TestExtractIsError_DirectArrayNotObject (0.00s)
=== RUN   TestExtractToolResults_ContentAsNumber
--- PASS: TestExtractToolResults_ContentAsNumber (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/models	1.005s
=== RUN   TestDefaultClaudeDir
--- PASS: TestDefaultClaudeDir (0.00s)
=== RUN   TestProjectDir
--- PASS: TestProjectDir (0.00s)
=== RUN   TestSessionFile
--- PASS: TestSessionFile (0.00s)
=== RUN   TestAgentFile
--- PASS: TestAgentFile (0.00s)
=== RUN   TestListProjects
--- PASS: TestListProjects (0.00s)
=== RUN   TestListSessionFiles
--- PASS: TestListSessionFiles (0.00s)
=== RUN   TestListAgentFiles
--- PASS: TestListAgentFiles (0.00s)
=== RUN   TestLooksLikeUUID
=== RUN   TestLooksLikeUUID/679761ba-80c0-4cd3-a586-cc6a1fc56308
=== RUN   TestLooksLikeUUID/12345678-1234-1234-1234-123456789012
=== RUN   TestLooksLikeUUID/not-a-uuid
=== RUN   TestLooksLikeUUID/679761ba80c04cd3a586cc6a1fc56308
=== RUN   TestLooksLikeUUID/#00
--- PASS: TestLooksLikeUUID (0.00s)
    --- PASS: TestLooksLikeUUID/679761ba-80c0-4cd3-a586-cc6a1fc56308 (0.00s)
    --- PASS: TestLooksLikeUUID/12345678-1234-1234-1234-123456789012 (0.00s)
    --- PASS: TestLooksLikeUUID/not-a-uuid (0.00s)
    --- PASS: TestLooksLikeUUID/679761ba80c04cd3a586cc6a1fc56308 (0.00s)
    --- PASS: TestLooksLikeUUID/#00 (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/paths	0.822s
=== RUN   TestReadSession
--- PASS: TestReadSession (0.00s)
=== RUN   TestGetSessionInfo
--- PASS: TestGetSessionInfo (0.00s)
=== RUN   TestFilterEntries
=== RUN   TestFilterEntries/filter_by_type
=== RUN   TestFilterEntries/filter_by_time_range
--- PASS: TestFilterEntries (0.00s)
    --- PASS: TestFilterEntries/filter_by_type (0.00s)
    --- PASS: TestFilterEntries/filter_by_time_range (0.00s)
=== RUN   TestCountEntriesByType
--- PASS: TestCountEntriesByType (0.00s)
=== RUN   TestReadSessionIndex
--- PASS: TestReadSessionIndex (0.00s)
=== RUN   TestFilterEntries_ToolTypes
=== RUN   TestFilterEntries_ToolTypes/single_tool_type
=== RUN   TestFilterEntries_ToolTypes/case_insensitive_matching
=== RUN   TestFilterEntries_ToolTypes/mixed_case_matching
=== RUN   TestFilterEntries_ToolTypes/multiple_tool_types_OR_logic
=== RUN   TestFilterEntries_ToolTypes/multiple_tool_types_with_case_insensitive
=== RUN   TestFilterEntries_ToolTypes/non-existent_tool
=== RUN   TestFilterEntries_ToolTypes/empty_tool_types_does_not_filter
=== RUN   TestFilterEntries_ToolTypes/nil_tool_types_does_not_filter
--- PASS: TestFilterEntries_ToolTypes (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/single_tool_type (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/case_insensitive_matching (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/mixed_case_matching (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/multiple_tool_types_OR_logic (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/multiple_tool_types_with_case_insensitive (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/non-existent_tool (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/empty_tool_types_does_not_filter (0.00s)
    --- PASS: TestFilterEntries_ToolTypes/nil_tool_types_does_not_filter (0.00s)
=== RUN   TestFilterEntries_ToolTypes_WithOtherFilters
=== RUN   TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_entry_type_filter
=== RUN   TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_time_range_filter
=== RUN   TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_all_filters_combined
--- PASS: TestFilterEntries_ToolTypes_WithOtherFilters (0.00s)
    --- PASS: TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_entry_type_filter (0.00s)
    --- PASS: TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_time_range_filter (0.00s)
    --- PASS: TestFilterEntries_ToolTypes_WithOtherFilters/tool_types_with_all_filters_combined (0.00s)
=== RUN   TestFilterEntries_ToolMatch
=== RUN   TestFilterEntries_ToolMatch/simple_substring_match
=== RUN   TestFilterEntries_ToolMatch/regex_pattern_for_commands
=== RUN   TestFilterEntries_ToolMatch/regex_pattern_for_npm
=== RUN   TestFilterEntries_ToolMatch/match_.go_file_paths
=== RUN   TestFilterEntries_ToolMatch/match_.py_file_paths
=== RUN   TestFilterEntries_ToolMatch/match_any_file_extension
=== RUN   TestFilterEntries_ToolMatch/match_file_path_key
=== RUN   TestFilterEntries_ToolMatch/match_pattern_in_multi-tool_entry
=== RUN   TestFilterEntries_ToolMatch/no_match_returns_empty
=== RUN   TestFilterEntries_ToolMatch/invalid_regex_returns_empty
=== RUN   TestFilterEntries_ToolMatch/unclosed_group_regex_returns_empty
=== RUN   TestFilterEntries_ToolMatch/empty_pattern_does_not_filter
=== RUN   TestFilterEntries_ToolMatch/match_/tmp_paths
=== RUN   TestFilterEntries_ToolMatch/match_Users_or_home_in_paths
=== RUN   TestFilterEntries_ToolMatch/case_sensitive_pattern
--- PASS: TestFilterEntries_ToolMatch (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/simple_substring_match (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/regex_pattern_for_commands (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/regex_pattern_for_npm (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_.go_file_paths (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_.py_file_paths (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_any_file_extension (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_file_path_key (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_pattern_in_multi-tool_entry (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/no_match_returns_empty (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/invalid_regex_returns_empty (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/unclosed_group_regex_returns_empty (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/empty_pattern_does_not_filter (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_/tmp_paths (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/match_Users_or_home_in_paths (0.00s)
    --- PASS: TestFilterEntries_ToolMatch/case_sensitive_pattern (0.00s)
=== RUN   TestFilterEntries_ToolMatch_WithOtherFilters
=== RUN   TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_entry_type_filter
=== RUN   TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_time_range_filter
=== RUN   TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_all_filters_combined
=== RUN   TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_AgentID_filter
--- PASS: TestFilterEntries_ToolMatch_WithOtherFilters (0.00s)
    --- PASS: TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_entry_type_filter (0.00s)
    --- PASS: TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_time_range_filter (0.00s)
    --- PASS: TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_all_filters_combined (0.00s)
    --- PASS: TestFilterEntries_ToolMatch_WithOtherFilters/tool_match_with_AgentID_filter (0.00s)
=== RUN   TestFilterEntries_ToolTypeAndMatch
=== RUN   TestFilterEntries_ToolTypeAndMatch/both_filters_match
=== RUN   TestFilterEntries_ToolTypeAndMatch/tool_type_matches_but_pattern_doesn't
=== RUN   TestFilterEntries_ToolTypeAndMatch/pattern_matches_but_tool_type_doesn't
=== RUN   TestFilterEntries_ToolTypeAndMatch/both_match_different_tools
=== RUN   TestFilterEntries_ToolTypeAndMatch/multiple_tool_types_one_matches_pattern
=== RUN   TestFilterEntries_ToolTypeAndMatch/case_insensitive_tool_type_with_pattern
=== RUN   TestFilterEntries_ToolTypeAndMatch/multi-tool_entry_matches_both_filters
=== RUN   TestFilterEntries_ToolTypeAndMatch/multi-tool_entry_matches_type_but_not_pattern
=== RUN   TestFilterEntries_ToolTypeAndMatch/empty_tool_type_ignores_pattern
=== RUN   TestFilterEntries_ToolTypeAndMatch/empty_pattern_ignores_tool_type
=== RUN   TestFilterEntries_ToolTypeAndMatch/both_empty_returns_all
=== RUN   TestFilterEntries_ToolTypeAndMatch/complex_regex_with_multiple_tool_types
--- PASS: TestFilterEntries_ToolTypeAndMatch (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/both_filters_match (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/tool_type_matches_but_pattern_doesn't (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/pattern_matches_but_tool_type_doesn't (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/both_match_different_tools (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/multiple_tool_types_one_matches_pattern (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/case_insensitive_tool_type_with_pattern (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/multi-tool_entry_matches_both_filters (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/multi-tool_entry_matches_type_but_not_pattern (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/empty_tool_type_ignores_pattern (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/empty_pattern_ignores_tool_type (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/both_empty_returns_all (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch/complex_regex_with_multiple_tool_types (0.00s)
=== RUN   TestFilterEntries_ToolTypeAndMatch_WithAllFilters
=== RUN   TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_combined
=== RUN   TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_but_wrong_agent
=== RUN   TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_but_wrong_time_range
=== RUN   TestFilterEntries_ToolTypeAndMatch_WithAllFilters/tool_filters_with_multiple_matching_entries
--- PASS: TestFilterEntries_ToolTypeAndMatch_WithAllFilters (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_combined (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_but_wrong_agent (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch_WithAllFilters/all_filters_but_wrong_time_range (0.00s)
    --- PASS: TestFilterEntries_ToolTypeAndMatch_WithAllFilters/tool_filters_with_multiple_matching_entries (0.00s)
PASS
ok  	github.com/randlee/claude-history/pkg/session	1.137s
FAIL
